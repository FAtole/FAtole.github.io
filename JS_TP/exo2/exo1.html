<html>

<head>

</head>

<body onload='draw()'>
    <canvas id="myCanvas" width="600" height="600"></canvas>


</body>

<script>
    var interval;
    var x = 0;
    var direction='droite';
    var canvas;
    var ctx;
    function draw() {
        canvas = document.getElementById('myCanvas');
        if (canvas.getContext) {
            ctx = canvas.getContext('2d');
            ctx.fillStyle = 'red';
            ctx.fillRect(0, 0, 50, 50);
            interval = setInterval(deplace, 10);

        }
    }

    function deplace() {

        ctx.clearRect(0, 0, canvas.width, canvas.height);
        if (direction==='droite'){
        x += 1;}
        else{
            x -= 1;
        }
        ctx.fillRect(x, 0, 50, 50);
        console.log(x);
        if (direction==='droite' && x >= 600-50) {
            direction='gauche';
        }
        else if (direction==='gauche' && x <= 0) {
            direction='droite';
        }
    };
</script>

</html>