<html>

<head>

    <SCRIPT LANGUAGE="Javascript" SRC="Cercle.js"></SCRIPT>

</head>

<body onload='init()'>
    <canvas id="myCanvas" width="200" height="200"></canvas>
    <ul>
        <input id="Play" type="button" value="Play">
        <input id="Pause" type="button" value="Pause">
        <input id="Stop" type="button" value="Stop">


    </ul>
</body>

<script>

    var aCanvas;
    var audio = new Audio('../../audio/superMario.mp3');


    var play = document.getElementById("Play");
    var pause = document.getElementById("Pause");
    var stop = document.getElementById("Stop");

    var interval;
    var dessin;
    function init() {
        aCanvas = document.getElementById('myCanvas');
        dessin = new Cercle(100, 100, aCanvas);
    }


    play.addEventListener('click', () => {
        interval = setInterval(affiche, 200);
        audio.play();
    });

    pause.addEventListener('click', () => {
        clearInterval(interval);
        audio.pause();
    });

    stop.addEventListener('click', () => {
        clearInterval(interval);
        dessin.clean();
        audio.load();
    });


    function affiche() {
        var duration = audio.duration;
        dessin.ache(audio.currentTime / duration);
    };
</script>

</html>